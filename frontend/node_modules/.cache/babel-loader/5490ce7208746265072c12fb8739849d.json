{"ast":null,"code":"//Referenced https://github.com/TarakeshS/protected-routes/blob/master/src/App.js\nimport Cookies from 'js-cookie';\nimport DI from './config/domain_info';\nconst Auth = {\n  username: \" \",\n  verified: false,\n\n  signout() {\n    this.verified = false;\n    Cookies.remove('mytoken');\n  },\n\n  getAuth() {\n    const token = Cookies.get('mytoken');\n    fetch(DI.DOMAIN + '/verify', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(res => res.json()).then(data => {\n      this.verified = true;\n    }).catch(err => {\n      console.log(err);\n      this.verified = false;\n    });\n    return this.verified;\n  },\n\n  async getUser() {\n    const token = Cookies.get('mytoken');\n    await fetch(DI.DOMAIN + '/verify', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(res => res.json()).then(data => {\n      this.username = data.authorizedData.username;\n    }).catch(err => {\n      console.log(err);\n    });\n    return this.username;\n  }\n\n};\nexport default Auth;","map":{"version":3,"sources":["C:\\Users\\Admin\\Documents\\GitHub\\WeShed\\frontend\\src\\Auth.js"],"names":["Cookies","DI","Auth","username","verified","signout","remove","getAuth","token","get","fetch","DOMAIN","method","headers","then","res","json","data","catch","err","console","log","getUser","authorizedData"],"mappings":"AAAA;AACA,OAAOA,OAAP,MAAoB,WAApB;AACA,OAAOC,EAAP,MAAe,sBAAf;AAEA,MAAMC,IAAI,GAAG;AACZC,EAAAA,QAAQ,EAAE,GADE;AAEZC,EAAAA,QAAQ,EAAE,KAFE;;AAIZC,EAAAA,OAAO,GAAG;AACT,SAAKD,QAAL,GAAgB,KAAhB;AACAJ,IAAAA,OAAO,CAACM,MAAR,CAAe,SAAf;AACA,GAPW;;AASZC,EAAAA,OAAO,GAAG;AAET,UAAMC,KAAK,GAAGR,OAAO,CAACS,GAAR,CAAY,SAAZ,CAAd;AAEGC,IAAAA,KAAK,CAACT,EAAE,CAACU,MAAH,GAAY,SAAb,EAAwB;AAC/BC,MAAAA,MAAM,EAAE,KADuB;AAE/BC,MAAAA,OAAO,EAAE;AACT,yBAAiB,YAAYL;AADpB;AAFsB,KAAxB,CAAL,CAMFM,IANE,CAMGC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANV,EAOFF,IAPE,CAOGG,IAAI,IAAI;AACb,WAAKb,QAAL,GAAgB,IAAhB;AACC,KATC,EAUFc,KAVE,CAUIC,GAAG,IAAI;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACf,WAAKf,QAAL,GAAgB,KAAhB;AAAuB,KAXrB;AAaH,WAAO,KAAKA,QAAZ;AACA,GA3BW;;AA6BZ,QAAMkB,OAAN,GAAgB;AAEf,UAAMd,KAAK,GAAGR,OAAO,CAACS,GAAR,CAAY,SAAZ,CAAd;AAEG,UAAMC,KAAK,CAACT,EAAE,CAACU,MAAH,GAAY,SAAb,EAAwB;AACrCC,MAAAA,MAAM,EAAE,KAD6B;AAErCC,MAAAA,OAAO,EAAE;AACT,yBAAiB,YAAYL;AADpB;AAF4B,KAAxB,CAAL,CAMRM,IANQ,CAMHC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANJ,EAORF,IAPQ,CAOHG,IAAI,IAAI;AACb,WAAKd,QAAL,GAAgBc,IAAI,CAACM,cAAL,CAAoBpB,QAApC;AACC,KATO,EAURe,KAVQ,CAUFC,GAAG,IAAI;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAkB,KAVzB,CAAN;AAWH,WAAO,KAAKhB,QAAZ;AACA;;AA7CW,CAAb;AAgDA,eAAeD,IAAf","sourcesContent":["//Referenced https://github.com/TarakeshS/protected-routes/blob/master/src/App.js\r\nimport Cookies from 'js-cookie';\r\nimport DI from './config/domain_info';\r\n\r\nconst Auth = {\r\n\tusername: \" \",\r\n\tverified: false,\r\n\t\r\n\tsignout() {\r\n\t\tthis.verified = false;\r\n\t\tCookies.remove('mytoken');\r\n\t},\r\n\t\t\r\n\tgetAuth() {\r\n\t\t\r\n\t\tconst token = Cookies.get('mytoken')\r\n\t\t\r\n\t    fetch(DI.DOMAIN + '/verify', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t'Authorization': 'Bearer ' + token\r\n\t\t\t\t}\t\r\n\t\t})\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\tthis.verified = true;\r\n\t\t\t})\r\n\t\t.catch(err => { console.log(err);\r\n\t\t\tthis.verified = false;});\r\n\t\t\t\r\n\t\treturn this.verified;\r\n\t},\r\n\t\r\n\tasync getUser() {\r\n\t\t\r\n\t\tconst token = Cookies.get('mytoken')\r\n\t\t\r\n\t    await fetch(DI.DOMAIN + '/verify', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t'Authorization': 'Bearer ' + token\r\n\t\t\t\t}\t\r\n\t\t})\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\tthis.username = data.authorizedData.username;\r\n\t\t\t})\r\n\t\t.catch(err => { console.log(err) });\r\n\t\treturn this.username;\r\n\t}\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}