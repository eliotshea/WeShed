{"ast":null,"code":"//Referenced https://github.com/TarakeshS/protected-routes/blob/master/src/App.js\nconst Auth = {\n  signout() {\n    document.cookie = \"token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n  },\n\n  async getAuth() {\n    await fetch('http://localhost:4000/verify', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + getCookie('token')\n      }\n    }).then(res => res.json()).then(data => {\n      return true;\n    }).catch(err => {\n      console.log(err);\n      return false;\n    });\n  },\n\n  getCookie(cname) {\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n      }\n\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n\n    return \"\";\n  },\n\n  async getUser() {\n    await fetch('http://localhost:4000/verify', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + document.cookie\n      }\n    }).then(res => res.json()).then(data => {\n      return data.authorizedData.username;\n    }).catch(err => {\n      console.log(err);\n      return \"\";\n    });\n  }\n\n};\nexport default Auth;","map":{"version":3,"sources":["C:\\Users\\Admin\\Documents\\GitHub\\WeShed\\frontend\\src\\Auth.js"],"names":["Auth","signout","document","cookie","getAuth","fetch","method","headers","getCookie","then","res","json","data","catch","err","console","log","cname","name","decodedCookie","decodeURIComponent","ca","split","i","length","c","charAt","substring","indexOf","getUser","authorizedData","username"],"mappings":"AAAA;AACA,MAAMA,IAAI,GAAG;AAEZC,EAAAA,OAAO,GAAG;AACTC,IAAAA,QAAQ,CAACC,MAAT,GAAkB,wDAAlB;AACA,GAJW;;AAMZ,QAAMC,OAAN,GAAgB;AAEZ,UAAMC,KAAK,CAAC,8BAAD,EAAiC;AAC9CC,MAAAA,MAAM,EAAE,KADsC;AAE9CC,MAAAA,OAAO,EAAE;AACT,yBAAiB,YAAYC,SAAS,CAAC,OAAD;AAD7B;AAFqC,KAAjC,CAAL,CAMRC,IANQ,CAMHC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANJ,EAORF,IAPQ,CAOHG,IAAI,IAAI;AACb,aAAO,IAAP;AACC,KATO,EAURC,KAVQ,CAUFC,GAAG,IAAI;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACf,aAAO,KAAP;AAAc,KAXN,CAAN;AAYH,GApBW;;AAsBZN,EAAAA,SAAS,CAACS,KAAD,EAAQ;AACjB,QAAIC,IAAI,GAAGD,KAAK,GAAG,GAAnB;AACA,QAAIE,aAAa,GAAGC,kBAAkB,CAAClB,QAAQ,CAACC,MAAV,CAAtC;AACA,QAAIkB,EAAE,GAAGF,aAAa,CAACG,KAAd,CAAoB,GAApB,CAAT;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAEF,EAAE,CAACG,MAArB,EAA6BD,CAAC,EAA9B,EAAkC;AACjC,UAAIE,CAAC,GAAGJ,EAAE,CAACE,CAAD,CAAV;;AACA,aAAOE,CAAC,CAACC,MAAF,CAAS,CAAT,KAAe,GAAtB,EAA2B;AAC3BD,QAAAA,CAAC,GAAGA,CAAC,CAACE,SAAF,CAAY,CAAZ,CAAJ;AACC;;AACD,UAAIF,CAAC,CAACG,OAAF,CAAUV,IAAV,KAAmB,CAAvB,EAA0B;AAC1B,eAAOO,CAAC,CAACE,SAAF,CAAYT,IAAI,CAACM,MAAjB,EAAyBC,CAAC,CAACD,MAA3B,CAAP;AACC;AACD;;AACD,WAAO,EAAP;AACC,GApCW;;AAsCZ,QAAMK,OAAN,GAAgB;AAEZ,UAAMxB,KAAK,CAAC,8BAAD,EAAiC;AAC9CC,MAAAA,MAAM,EAAE,KADsC;AAE9CC,MAAAA,OAAO,EAAE;AACT,yBAAiB,YAAYL,QAAQ,CAACC;AAD7B;AAFqC,KAAjC,CAAL,CAMRM,IANQ,CAMHC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANJ,EAORF,IAPQ,CAOHG,IAAI,IAAI;AACb,aAAOA,IAAI,CAACkB,cAAL,CAAoBC,QAA3B;AACC,KATO,EAURlB,KAVQ,CAUFC,GAAG,IAAI;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACf,aAAO,EAAP;AAAW,KAXH,CAAN;AAYH;;AApDW,CAAb;AAuDA,eAAed,IAAf","sourcesContent":["//Referenced https://github.com/TarakeshS/protected-routes/blob/master/src/App.js\r\nconst Auth = {\r\n\t\t\r\n\tsignout() {\r\n\t\tdocument.cookie = \"token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n\t},\r\n\t\t\r\n\tasync getAuth() {\r\n\t\t\r\n\t    await fetch('http://localhost:4000/verify', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t'Authorization': 'Bearer ' + getCookie('token')\r\n\t\t\t\t}\t\r\n\t\t})\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\treturn true;\r\n\t\t\t})\r\n\t\t.catch(err => { console.log(err)\r\n\t\t\treturn false });\r\n\t},\r\n\t\r\n\tgetCookie(cname) {\r\n\tvar name = cname + \"=\";\r\n\tvar decodedCookie = decodeURIComponent(document.cookie);\r\n\tvar ca = decodedCookie.split(';');\r\n\tfor(var i = 0; i <ca.length; i++) {\r\n\t\tvar c = ca[i];\r\n\t\twhile (c.charAt(0) == ' ') {\r\n\t\tc = c.substring(1);\r\n\t\t}\r\n\t\tif (c.indexOf(name) == 0) {\r\n\t\treturn c.substring(name.length, c.length);\r\n\t\t}\r\n\t}\r\n\treturn \"\";\r\n\t},\r\n\t\r\n\tasync getUser() {\r\n\t\t\r\n\t    await fetch('http://localhost:4000/verify', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t'Authorization': 'Bearer ' + document.cookie\r\n\t\t\t\t}\t\r\n\t\t})\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\treturn data.authorizedData.username;\r\n\t\t\t})\r\n\t\t.catch(err => { console.log(err)\r\n\t\t\treturn \"\" });\r\n\t}\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}