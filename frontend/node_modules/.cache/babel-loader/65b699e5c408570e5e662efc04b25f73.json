{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\WeShed\\\\frontend\\\\src\\\\Songs.js\";\nimport React, { Component } from 'react';\nimport ReactPlayer from 'react-player';\nimport Cookies from 'js-cookie';\nimport DI from './config/domain_info';\nimport './App.css';\nconst PREFIX_DIR = './res/sheet_imgs/'; //Referenced https://www.robinwieruch.de/react-fetching-data\n\nclass songList extends Component {\n  constructor(props) {\n    super(props); //var song = { msid: null, Name: null, F_handle: null, Bt_ref: null};\n\n    this.state = {\n      song_arr: [],\n      currentSong: ''\n    };\n    this.changeSong = this.changeSong.bind(this);\n    this.resetState = this.resetState.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(DI.DOMAIN + '/get_songs').then(response => response.json()).then(data => this.setState({\n      song_arr: data\n    }));\n  }\n\n  changeSong(newSong, newTrack) {\n    this.setState({\n      currentSong: newSong,\n      backingTrack: newTrack,\n      timeStamp: Date.now()\n    });\n  }\n\n  resetState() {\n    let timeElapsed = (Date.now() - this.state.timeStamp) / 1000;\n    alert(\"You spent \".concat(timeElapsed, \" seconds playing \").concat(this.state.currentSong));\n    this.setState({\n      currentSong: '',\n      backingTrack: '',\n      timeStamp: 0\n    });\n  }\n\n  getToken() {\n    alert(Cookies.get('mytoken'));\n  }\n\n  render() {\n    const song_arr = this.state.song_arr;\n    let player = React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    });\n\n    if (this.state.backingTrack) {\n      player = React.createElement(ReactPlayer, {\n        url: this.state.backingTrack,\n        controls: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      });\n    }\n\n    let leadSheet = React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    });\n\n    if (this.state.currentSong) {\n      leadSheet = React.createElement(\"img\", {\n        src: require(\"\".concat(PREFIX_DIR).concat(this.state.currentSong)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    }\n\n    let songList = React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, song_arr.map(song => React.createElement(\"li\", {\n      key: song.Msid,\n      onClick: () => this.changeSong(song.F_handle, song.Bt_ref),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, song.Msid), \" \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, song.Name), \" \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, song.F_handle), \" \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, song.Bt_ref))));\n\n    if (this.state.currentSong && this.state.backingTrack) {\n      songList = React.createElement(\"button\", {\n        onClick: this.resetState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Choose another song\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"Songs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \" Songs page \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, leadSheet, player), songList);\n  }\n\n}\n\nexport default songList;","map":{"version":3,"sources":["C:\\Users\\Admin\\Documents\\GitHub\\WeShed\\frontend\\src\\Songs.js"],"names":["React","Component","ReactPlayer","Cookies","DI","PREFIX_DIR","songList","constructor","props","state","song_arr","currentSong","changeSong","bind","resetState","componentDidMount","fetch","DOMAIN","then","response","json","data","setState","newSong","newTrack","backingTrack","timeStamp","Date","now","timeElapsed","alert","getToken","get","render","player","leadSheet","require","map","song","Msid","F_handle","Bt_ref","Name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport Cookies from 'js-cookie';\r\nimport DI from './config/domain_info';\r\nimport './App.css';\r\n\r\n\r\n\r\nconst PREFIX_DIR = './res/sheet_imgs/'\r\n\r\n//Referenced https://www.robinwieruch.de/react-fetching-data\r\nclass songList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t//var song = { msid: null, Name: null, F_handle: null, Bt_ref: null};\r\n\t\tthis.state = {\r\n\t\t\tsong_arr: [],\r\n\t\t\tcurrentSong: '' \r\n\t\t};\r\n\t\tthis.changeSong = this.changeSong.bind(this);\r\n\t\tthis.resetState = this.resetState.bind(this);\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\t\r\n\t\tfetch(DI.DOMAIN + '/get_songs')\r\n\t\t.then(response => response.json())\r\n\t\t.then(data => this.setState({ song_arr: data }));\t\r\n\t}\r\n\r\n\tchangeSong(newSong, newTrack) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentSong: newSong,\r\n\t\t\tbackingTrack: newTrack,\r\n\t\t\ttimeStamp: Date.now()\r\n\t})\r\n\t}\r\n\r\n\tresetState() {\r\n\t\tlet timeElapsed = (Date.now() - this.state.timeStamp) / 1000;\r\n\t\talert(`You spent ${timeElapsed} seconds playing ${this.state.currentSong}`);\r\n\t\tthis.setState({\r\n\t\t\tcurrentSong: '',\r\n\t\t\tbackingTrack: '',\r\n\t\t\ttimeStamp: 0\r\n\t\t})\r\n\t}\r\n\t\r\n\tgetToken(){\r\n\t  alert(Cookies.get('mytoken'));\r\n\t}\r\n  \r\n\r\n\r\nrender() {\r\n\t\r\n\tconst {song_arr} = this.state;\r\n\tlet player = <p></p>;\r\n\tif(this.state.backingTrack){\r\n\t\tplayer = <ReactPlayer url={this.state.backingTrack} controls=\"true\" />\r\n\t}\r\n\tlet leadSheet = <p></p>;\r\n\tif(this.state.currentSong){\r\n\t\tleadSheet = <img src={require(`${PREFIX_DIR}${this.state.currentSong}`)} />\r\n\t}\r\n\tlet songList = (<ul>\r\n\t\t{song_arr.map(song =>\r\n\t\t\t<li key={song.Msid} onClick={() => this.changeSong(song.F_handle, song.Bt_ref)}>\r\n\t\t\t\t<b>{song.Msid}</b> <b>{song.Name}</b> <b>{song.F_handle}</b> <b>{song.Bt_ref}</b>\r\n\t\t\t</li>\r\n\t\t)}\r\n\t</ul>);\r\n\tif(this.state.currentSong && this.state.backingTrack) {\r\n\t\tsongList = <button onClick={this.resetState}>Choose another song</button>\r\n\t}\r\n\r\n    return (\r\n      <div className=\"Songs\">\r\n        <h1> Songs page </h1>\r\n\t\t<div>\r\n\t\t{leadSheet}\r\n\t\t{player}\r\n\t\t</div>\r\n\t\t{songList}\r\n      \t</div>\r\n\t  \r\n    );\r\n  }\r\n}\r\n\r\nexport default songList;"]},"metadata":{},"sourceType":"module"}