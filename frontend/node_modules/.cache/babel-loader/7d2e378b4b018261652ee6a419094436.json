{"ast":null,"code":"import { AsyncStorage } from 'react-native'; //Referenced https://github.com/TarakeshS/protected-routes/blob/master/src/App.js\n\nconst Auth = {\n  signout() {\n    localStorage.clear();\n  },\n\n  async getAuth() {\n    //Referenced https://facebook.github.io/react-native/docs/asyncstorage\n    AsyncStorage = async () => {\n      try {\n        const value = await AsyncStorage.getItem('access_token');\n\n        if (value !== null) {\n          // We have data!!\n          console.log(value);\n          await fetch('http://localhost:4000/verify', {\n            method: 'GET',\n            headers: {\n              'Authorization': 'Bearer ' + value\n            }\n          }).then(res => res.json()).then(data => {\n            return true;\n          }).catch(err => {\n            console.log(err);\n            return false;\n          });\n        }\n      } catch (error) {// Error retrieving data\n      }\n    };\n  },\n\n  async getUser() {\n    await fetch('http://localhost:4000/verify', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + localStorage['acess_token']\n      }\n    }).then(res => res.json()).then(data => {\n      return data.authorizedData.username;\n    }).catch(err => {\n      console.log(err);\n      return \"\";\n    });\n  }\n\n};\nexport default Auth;","map":{"version":3,"sources":["C:\\Users\\Admin\\Documents\\GitHub\\WeShed\\frontend\\src\\Auth.js"],"names":["AsyncStorage","Auth","signout","localStorage","clear","getAuth","value","getItem","console","log","fetch","method","headers","then","res","json","data","catch","err","error","getUser","authorizedData","username"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,cAA3B,C,CAGA;;AACA,MAAMC,IAAI,GAAG;AAEZC,EAAAA,OAAO,GAAG;AACTC,IAAAA,YAAY,CAACC,KAAb;AACA,GAJW;;AAMZ,QAAMC,OAAN,GAAgB;AAEf;AACAL,IAAAA,YAAY,GAAG,YAAY;AAC3B,UAAI;AACJ,cAAMM,KAAK,GAAG,MAAMN,YAAY,CAACO,OAAb,CAAqB,cAArB,CAApB;;AACA,YAAID,KAAK,KAAK,IAAd,EAAoB;AACpB;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACC,gBAAMI,KAAK,CAAC,8BAAD,EAAiC;AAC3CC,YAAAA,MAAM,EAAE,KADmC;AAE3CC,YAAAA,OAAO,EAAE;AACT,+BAAiB,YAAYN;AADpB;AAFkC,WAAjC,CAAL,CAMLO,IANK,CAMAC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANP,EAOLF,IAPK,CAOAG,IAAI,IAAI;AACb,mBAAO,IAAP;AACC,WATI,EAULC,KAVK,CAUCC,GAAG,IAAI;AAAEV,YAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACf,mBAAO,KAAP;AAAc,WAXT,CAAN;AAYA;AACA,OAlBD,CAkBE,OAAOC,KAAP,EAAc,CAChB;AACC;AACF,KAtBC;AAyBA,GAlCW;;AAoCZ,QAAMC,OAAN,GAAgB;AAEZ,UAAMV,KAAK,CAAC,8BAAD,EAAiC;AAC9CC,MAAAA,MAAM,EAAE,KADsC;AAE9CC,MAAAA,OAAO,EAAE;AACT,yBAAiB,YAAYT,YAAY,CAAC,aAAD;AADhC;AAFqC,KAAjC,CAAL,CAMRU,IANQ,CAMHC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANJ,EAORF,IAPQ,CAOHG,IAAI,IAAI;AACb,aAAOA,IAAI,CAACK,cAAL,CAAoBC,QAA3B;AACC,KATO,EAURL,KAVQ,CAUFC,GAAG,IAAI;AAAEV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACf,aAAO,EAAP;AAAW,KAXH,CAAN;AAYH;;AAlDW,CAAb;AAqDA,eAAejB,IAAf","sourcesContent":["import {AsyncStorage} from 'react-native';\r\n\r\n\r\n//Referenced https://github.com/TarakeshS/protected-routes/blob/master/src/App.js\r\nconst Auth = {\r\n\t\t\r\n\tsignout() {\r\n\t\tlocalStorage.clear();\r\n\t},\r\n\t\t\r\n\tasync getAuth() {\r\n\t\t\r\n\t\t//Referenced https://facebook.github.io/react-native/docs/asyncstorage\r\n\t\tAsyncStorage = async () => {\r\n\t\ttry {\r\n\t\tconst value = await AsyncStorage.getItem('access_token');\r\n\t\tif (value !== null) {\r\n\t\t// We have data!!\r\n\t\tconsole.log(value);\r\n\t\t\tawait fetch('http://localhost:4000/verify', {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: {\r\n\t\t\t\t'Authorization': 'Bearer ' + value\r\n\t\t\t\t\t}\t\r\n\t\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn true;\r\n\t\t\t\t})\r\n\t\t\t.catch(err => { console.log(err)\r\n\t\t\t\treturn false });\r\n\t\t}\r\n\t\t} catch (error) {\r\n\t\t// Error retrieving data\r\n\t\t}\r\n};\r\n\t\t\r\n\t    \r\n\t},\r\n\t\r\n\tasync getUser() {\r\n\t\t\r\n\t    await fetch('http://localhost:4000/verify', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t'Authorization': 'Bearer ' + localStorage['acess_token']\r\n\t\t\t\t}\t\r\n\t\t})\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\treturn data.authorizedData.username;\r\n\t\t\t})\r\n\t\t.catch(err => { console.log(err)\r\n\t\t\treturn \"\" });\r\n\t}\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}