{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\front-end\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      password: ''\n    };\n    this.handlePassChange = this.handlePassChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    var data = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    fetch(\"http://localhost:4000/auth\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(function (response) {\n      if (response.status >= 400) {\n        throw new Error(\"Bad response from server\");\n      }\n\n      return response.json();\n    }).then(function (response) {\n      //Response from the verified /auth POST\n      alert(response.token);\n      localStorage.setItem('acess_token', response.token);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      username: evt.target.value\n    });\n  }\n\n  handlePassChange(evt) {\n    this.setState({\n      password: evt.target.value\n    });\n  }\n\n  check4loggedin() {\n    alert(\"checking for logged in\");\n    var url = \"http://localhost:4000/verify\";\n    fetch(url, {\n      method: 'GET',\n      withCredentials: true,\n      credentials: 'include',\n      headers: {\n        'Authorization': localStorage.getItem('access_token'),\n        'X-FP-API-KEY': 'iphone',\n        //it can be iPhone or your any other attribute\n        'Content-Type': 'application/json'\n      }\n    }).then(responseJson => {\n      var items = JSON.parse(responseJson._bodyInit);\n    }).catch(error => this.setState({\n      isLoading: false,\n      message: 'Something bad happened ' + error\n    }));\n  }\n\n  render() {\n    if (this.state.toHome === true) {\n      alert(\"triggered redirect to home\");\n      return React.createElement(Redirect, {\n        to: \"/Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"User Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      \"data-test\": \"username\",\n      value: this.state.username,\n      onChange: this.handleUserChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      \"data-test\": \"password\",\n      value: this.state.password,\n      onChange: this.handlePassChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Log In\",\n      \"data-test\": \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.check4loggedin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"check4loggedin\")));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\Admin\\Desktop\\front-end\\src\\App.js"],"names":["React","Component","Redirect","App","constructor","state","username","password","handlePassChange","bind","handleUserChange","handleSubmit","evt","preventDefault","data","fetch","method","headers","body","JSON","stringify","then","response","status","Error","json","alert","token","localStorage","setItem","catch","err","console","log","setState","target","value","check4loggedin","url","withCredentials","credentials","getItem","responseJson","items","parse","_bodyInit","error","isLoading","message","render","toHome"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport {Redirect} from 'react-router-dom';\nimport './App.css';\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      password: ''\n    };\n\n    this.handlePassChange = this.handlePassChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n\n        var data = {\n            username: this.state.username,\n            password: this.state.password\n        }\n\t\t\n        fetch(\"http://localhost:4000/auth\", {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(data),\n        }).then(function(response) {\n            if (response.status >= 400) {\n              throw new Error(\"Bad response from server\");\n            }\n            return response.json();\n        }).then(function(response) {\n\t\t\t//Response from the verified /auth POST\n\t\t\talert(response.token);\n\t\t\tlocalStorage.setItem('acess_token', response.token);\n        }).catch(function(err) {\n            console.log(err)\n        });\n\t\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      username: evt.target.value,\n    });\n  };\n\n  handlePassChange(evt) {\n    this.setState({\n      password: evt.target.value,\n    });\n  }\n  \n  check4loggedin() {\n    alert(\"checking for logged in\");\n\n\t\t\n        var url = \"http://localhost:4000/verify\";\n\t\tfetch(url, {\n\t\t\tmethod: 'GET',\n\t\t\twithCredentials: true,\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Authorization': localStorage.getItem('access_token'),\n\t\t\t\t'X-FP-API-KEY': 'iphone', //it can be iPhone or your any other attribute\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t}).then(responseJson => {\n        var items = JSON.parse(responseJson._bodyInit);\n\t\t})\n\t\t.catch(error => this.setState({\n\t\t\tisLoading: false,\n\t\t\tmessage: 'Something bad happened ' + error\n\t\t}));\n  }\n\n  render() {\n\n\t\n\tif (this.state.toHome === true) {\n\t  alert(\"triggered redirect to home\");\n      return <Redirect to='/Home' />\n    }\n\n    return (\n      <div className=\"App\">\n        <form onSubmit={this.handleSubmit}>\n\n          <label>User Name</label>\n          <input type=\"text\" data-test=\"username\" value={this.state.username} onChange={this.handleUserChange} />\n\n          <label>Password</label>\n          <input type=\"password\" data-test=\"password\" value={this.state.password} onChange={this.handlePassChange} />\n\n          <input type=\"submit\" value=\"Log In\" data-test=\"submit\" />\n        </form>\n\t\t<div>\n\t\t<button onClick={this.check4loggedin}>\n\t\t\tcheck4loggedin\n\t\t</button>\n\t\t</div>\n      </div>\n\t  \n\t  \n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}